{
  "basePath": "/acpaas/authz/v1",
  "paths": {
    "/applications/{applicationid}/users/{userid}/permissions": {
      "get": {
        "summary": "Get user permissions for an application",
        "description": "Get `permissions` for a user for an application",
        "operationId": "getApplicationsApplicationidUsersUseridPermissions",
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/authzPermissions"
            },
            "description": "Successful response"
          },
          "400": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Bad request, maybe required fields missing or unknown route"
          },
          "403": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Forbidden access"
          },
          "404": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Application not found"
          },
          "406": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Only application/json is supported"
          },
          "500": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Something went wrong accessing the authorization system"
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "applicationid",
            "format": "JSON",
            "description": "id of the application",
            "type": "string",
            "required": true
          },
          {
            "in": "path",
            "name": "userid",
            "format": "JSON",
            "description": "id of the user",
            "type": "string",
            "required": true
          }
        ],
        "tags": [
          "Permissions"
        ]
      }
    },
    "/applications/{applicationid}/permissions?profileid={profileid}&amp;profiletype={profiletype}": {
      "get": {
        "summary": "Get user permissions for an application",
        "description": "Get `permissions` for a user for an application on the basis of profiletype and profileid",
        "operationId": "getApplicationsApplicationidPermissionsProfileidProfileidProfiletypeProfiletype",
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/authzPermissions"
            },
            "description": "Successful response"
          },
          "400": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Bad request, maybe required fields missing or unknown route"
          },
          "403": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Forbidden access"
          },
          "404": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Application not found"
          },
          "406": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Only application/json is supported"
          },
          "500": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Something went wrong accessing the authorization system"
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "applicationid",
            "format": "JSON",
            "description": "id of the application",
            "type": "string",
            "required": true
          },
          {
            "in": "path",
            "name": "profileid",
            "format": "JSON",
            "description": "id of the user",
            "type": "string",
            "required": true
          },
          {
            "in": "path",
            "name": "profiletype",
            "format": "JSON",
            "description": "id of the user",
            "type": "string",
            "required": true
          }
        ],
        "tags": [
          "Permissions"
        ]
      }
    },
    "/applications/{applicationid}/users": {
      "get": {
        "summary": "Get users",
        "description": "Get `users` for an application by rolename",
        "operationId": "getUsersApplicationidRolename",
        "responses": {
          "200": {
            "schema": {
              "$ref": "#/definitions/PagedResultOfUsers"
            },
            "description": "Successful response"
          },
          "400": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Bad request, maybe required fields missing or unknown route"
          },
          "403": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Forbidden access"
          },
          "404": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Application not found"
          },
          "406": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Only application/json is supported"
          },
          "500": {
            "schema": {
              "$ref": "#/definitions/Error"
            },
            "description": "Something went wrong accessing the authorization system"
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "applicationid",
            "format": "JSON",
            "description": "id of the application",
            "type": "string",
            "required": true
          },
          {
            "in": "query",
            "name": "roles",
            "description": "Comma seperated list of roles. e.g. &lt;&lt;organisation>>_ &lt;&lt;applicationid>>_ &lt;&lt;rolename>> - Digipolis_TimeRegistration_employee",
            "type": "string",
            "required": true
          }
        ],
        "tags": [
          "Permissions"
        ]
      }
    }
  },
  "produces": [
    "application/json"
  ],
  "host": "api-gw-o.antwerpen.be",
  "schemes": [
    "https"
  ],
  "definitions": {
    "User": {
      "type": "object",
      "properties": {
        "upn": {
          "type": "string"
        },
        "rolename": {
          "type": "string"
        }
      }
    },
    "PagedResultOfUsers": {
      "type": "object",
      "properties": {
        "_page": {
          "$ref": "#/definitions/Page"
        },
        "_links": {
          "$ref": "#/definitions/PagedResultLinks"
        },
        "_embedded": {
          "$ref": "#/definitions/EmbeddedOfUsers"
        }
      }
    },
    "PagedResultLinks": {
      "type": "object",
      "properties": {
        "next": {
          "$ref": "#/definitions/Link"
        },
        "previous": {
          "$ref": "#/definitions/Link"
        },
        "last": {
          "$ref": "#/definitions/Link"
        },
        "self": {
          "$ref": "#/definitions/Link"
        },
        "first": {
          "$ref": "#/definitions/Link"
        }
      }
    },
    "Error": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "Page": {
      "type": "object",
      "properties": {
        "number": {
          "format": "int32",
          "type": "integer"
        },
        "size": {
          "format": "int32",
          "type": "integer"
        },
        "totalPages": {
          "format": "int32",
          "type": "integer"
        },
        "totalElements": {
          "format": "int32",
          "type": "integer"
        }
      }
    },
    "EmbeddedOfUsers": {
      "type": "object",
      "properties": {
        "resourceList": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/User"
          }
        }
      }
    },
    "authzPermissions": {
      "properties": {
        "profiletype": {
          "type": "string"
        },
        "permissions": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "profileid": {
          "type": "string"
        },
        "applicationid": {
          "type": "string"
        },
        "userid": {
          "type": "string"
        }
      }
    },
    "Link": {
      "type": "object",
      "properties": {
        "href": {
          "type": "string"
        }
      }
    }
  },
  "swagger": "2.0",
  "info": {
    "contact": {
      "name": "ACPAAS",
      "url": "https://acpaas.wiki.antwerpen.be",
      "email": "DA_ACPAAS_APIe@digipolis.be"
    },
    "x-dgp-api-requirements-version": "5.2.0",
    "title": "AuthZ",
    "version": "1.0.0"
  },
  "consumes": [
    "application/json"
  ],
  "tags": [
    {
      "name": "Permissions"
    }
  ]
}